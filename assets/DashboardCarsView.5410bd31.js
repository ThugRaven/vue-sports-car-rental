var w=Object.defineProperty;var g=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var p=(t,s,a)=>s in t?w(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a,y=(t,s)=>{for(var a in s||(s={}))k.call(s,a)&&p(t,a,s[a]);if(g)for(var a of g(s))C.call(s,a)&&p(t,a,s[a]);return t};import{_ as z,u as h,f as S,M as V,y as L,g as D,V as x,q as b,l as u,r as I,o as n,c,d as e,t as r,F as M,j,k as B,x as N,z as R,b as q,w as G,e as T,p as m,i as Z,v as E}from"./index.d8bfd445.js";const F={components:{},data(){return{cars:[],isLoading:!0}},created(){if(!h.user||h.user&&h.user.role!=="admin")return this.$router.push("/login");this.searchCars()},methods:{async getCars(){this.cars=[],this.isLoading=!0;let t=[],s=S(L(u,"cars"),V("id_car"));return(await D(s)).forEach(i=>{let o=i.id;t.push(y({id:o},i.data()))}),this.isLoading=!1,t},async searchCars(){this.getCars().then(t=>{this.cars=t})},async toggleRentable(t,s){let a=this.cars.find(i=>i.id_car===t);a.rentable=!s,await x(b(u,"cars",t.toString()),{rentable:!s}).catch(()=>{a.rentable=s})},async saveGallery(t,s){await x(b(u,"cars",t.toString()),{gallery:s})}}},f=t=>(N("data-v-d3c1e756"),t=t(),R(),t),U={class:"flex flex-col items-center w-full h-full"},W={class:"text-2xl font-bold text-center"},$={class:"w-full h-full"},A={key:0,class:"overflow-x-auto"},H={class:"table-layout mx-auto my-2 text-sm xl:text-base w-full text-center"},P=f(()=>e("thead",{class:"border-b border-b-red-500"},[e("tr",null,[e("th",null,"ID Samochodu"),e("th",null,"Marka"),e("th",null,"Model"),e("th",null,"Rejestracja"),e("th",null,"Przebieg"),e("th",null,"Wypo\u017Cyczalny"),e("th",null,"Wypo\u017Cyczalno\u015B\u0107"),e("th",null,"Galeria"),e("th",null,"Zapisz")])],-1)),J={class:"leading-none"},K=["onClick"],O=["onUpdate:modelValue"],Q=["onClick"],X={key:1,class:"col-start-2 lg:col-start-3 col-end-13 row-start-2 row-end-[13] flex flex-col justify-center items-center p-8 bg-zinc-700"},Y=f(()=>e("svg",{class:"animate-spin h-24 w-24 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),ee=[Y],te={key:2,class:"my-4 text-xl text-center"};function se(t,s,a,i,o,_){const v=I("RouterLink");return n(),c("div",U,[e("h2",W," Dashboard - Samochody - "+r(o.cars.length),1),e("div",$,[o.cars.length>0?(n(),c("div",A,[e("table",H,[P,e("tbody",J,[(n(!0),c(M,null,j(o.cars,l=>(n(),c("tr",{key:l.id_car},[e("td",null,[q(v,{to:`/cars/${l.id_car}`,class:"hover:text-red-500 transition-colors"},{default:G(()=>[T(r(l.id_car),1)]),_:2},1032,["to"])]),e("td",null,r(l.brand),1),e("td",null,r(l.model),1),e("td",null,r(l.license_plate),1),e("td",null,r(`${l.mileage} km`),1),e("td",{class:m({"bg-green-600/10 text-green-300":l.rentable,"bg-red-600/10 text-red-300":!l.rentable})},r(l.rentable?"Tak":"Nie"),3),e("td",null,[e("button",{class:"hover:text-red-500 transition-colors",onClick:d=>_.toggleRentable(l.id_car,l.rentable)}," Zmie\u0144 ",8,K)]),e("td",{class:m({"bg-green-600/10 text-green-300":l.gallery>0,"bg-red-600/10 text-red-300":l.gallery===0})},[Z(e("input",{"onUpdate:modelValue":d=>l.gallery=d,min:"0",type:"number",class:"bg-zinc-700 px-4 py-2 w-24"},null,8,O),[[E,l.gallery]])],2),e("td",null,[e("button",{class:"hover:text-red-500 transition-colors",onClick:d=>_.saveGallery(l.id_car,l.gallery)}," Zapisz ",8,Q)])]))),128))])])])):o.isLoading?(n(),c("div",X,ee)):o.cars.length===0?(n(),c("div",te," Brak pojazd\xF3w ")):B("",!0)])])}var oe=z(F,[["render",se],["__scopeId","data-v-d3c1e756"]]);export{oe as default};
