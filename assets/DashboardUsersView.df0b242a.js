var f=Object.defineProperty;var u=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var _=(s,t,o)=>t in s?f(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o,p=(s,t)=>{for(var o in t||(t={}))m.call(t,o)&&_(s,o,t[o]);if(u)for(var o of u(t))v.call(t,o)&&_(s,o,t[o]);return s};import{_ as g,u as d,f as b,y as k,g as U,V as z,q as S,l as y,o as a,c as n,d as e,t as x,F as V,j as C,k as D,x as I,z as B,i as L,W as q}from"./index.d8bfd445.js";const R={components:{},data(){return{users:[],role:null,isLoading:!0}},created(){if(!d.user||d.user&&d.user.role!=="admin")return this.$router.push("/login");this.searchUsers()},methods:{async getUsers(){this.users=[],this.isLoading=!0;let s=[],t=b(k(y,"users"));return(await U(t)).forEach(c=>{let l=c.id;s.push(p({id:l},c.data()))}),this.isLoading=!1,s},async searchUsers(){this.getUsers().then(s=>{this.users=s})},async saveRole(s,t){await z(S(y,"users",s.toString()),{role:t})}}},i=s=>(I("data-v-ed3b9992"),s=s(),B(),s),j={class:"flex flex-col items-center w-full h-full"},E={class:"text-2xl font-bold text-center"},F={class:"w-full h-full"},M={key:0,class:"overflow-x-auto"},N={class:"table-layout mx-auto my-2 text-sm xl:text-base w-full text-center"},W=i(()=>e("thead",{class:"border-b border-b-red-500"},[e("tr",null,[e("th",null,"ID U\u017Cytkownika"),e("th",null,"Rola"),e("th",null,"Zapisz")])],-1)),Z={class:"leading-none"},A=["onUpdate:modelValue"],H=i(()=>e("option",{disabled:""},"Wybierz role",-1)),G=i(()=>e("option",{value:"user"},"u\u017Cytkownik",-1)),J=i(()=>e("option",{value:"admin"},"admin",-1)),K=[H,G,J],O=["onClick"],P={key:1,class:"col-start-2 lg:col-start-3 col-end-13 row-start-2 row-end-[13] flex flex-col justify-center items-center p-8 bg-zinc-700"},Q=i(()=>e("svg",{class:"animate-spin h-24 w-24 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),T=[Q],X={key:2,class:"my-4 text-xl text-center"};function Y(s,t,o,c,l,w){return a(),n("div",j,[e("h2",E," Dashboard - U\u017Cytkownicy - "+x(l.users.length),1),e("div",F,[l.users.length>0?(a(),n("div",M,[e("table",N,[W,e("tbody",Z,[(a(!0),n(V,null,C(l.users,r=>(a(),n("tr",{key:r.id},[e("td",null,x(r.id),1),e("td",null,[L(e("select",{"onUpdate:modelValue":h=>r.role=h,class:"bg-zinc-700 px-4 py-2"},K,8,A),[[q,r.role]])]),e("td",null,[e("button",{class:"hover:text-red-500 transition-colors",onClick:h=>w.saveRole(r.id,r.role)}," Zapisz ",8,O)])]))),128))])])])):l.isLoading?(a(),n("div",P,T)):l.users.length===0?(a(),n("div",X," Brak u\u017Cytkownik\xF3w ")):D("",!0)])])}var se=g(R,[["render",Y],["__scopeId","data-v-ed3b9992"]]);export{se as default};
